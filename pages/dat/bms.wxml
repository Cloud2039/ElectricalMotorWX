<Header></Header>

<view class="move-container" style="height: {{windowHeight}};">
  <view class="section">
    <picker mode="multiSelector" bindchange="bindMultiPickerChange" bindcolumnchange="bindMultiPickerColumnChange" value="{{multiIndex}}" range="{{multiArray}}">
      <view class="picker">
        {{multiArray[0][multiIndex[0]]}}-{{multiArray[1][multiIndex[1]]}}
      </view>
    </picker>
  </view>
  <view class="running-container" style="flex-direction: column;">
        <view class="SOH-wrp" style="flex-direction: column;">
          <text style="color:white">SOH</text>
          <view wx:if="{{SOH >= 20}}" class="SOH-container" style="flex-direction: column;">
            <progress active="true" percent="{{SOH}}" border-radius="5"
            stroke-width="50" />
            <text style="color: greenyellow;">{{SOH}}%</text>
          </view>
          <view wx:if="{{SOH < 20}}" class="SOH-container" style="flex-direction: column;">
            <progress active="true" percent="{{SOH}}" border-radius="5" activeColor="red"
            stroke-width="50" />
            <text style="color: red;">{{SOH}}%</text>
          </view>
        </view>
        <view class="flex-wrp" style="flex-direction: row;">
          <view class="child-BMS-container">
            <view>
              <text style="color:white">电压</text>
              <text style="color:#4080ff">{{today_charge}} KW</text>
            </view>
          </view>
          <view class="child-BMS-container" style="flex-direction: row;">
            <view>
              <text style="color:white">电流</text>
              <text style="color:#4080ff">{{today_discharge}} KVar</text>
            </view>
          </view>
        </view>
        <view class="flex-wrp" style="flex-direction: row;">
          <view class="child-BMS-container">
            <view>
              <text style="color:white">电池簇电流</text>
              <text style="color:#4080ff">{{today_charge}} A</text>
            </view>
          </view>
          <view class="child-BMS-container" style="flex-direction: row;">
            <view>
              <text style="color:white">电池簇电压</text>
              <text style="color:#4080ff">{{today_charge}} V</text>
            </view>
          </view>
        </view>
        <view class="flex-wrp" style="flex-direction: row;">
          <view class="child-BMS-container">
            <view>
              <text style="color:white">最高电压电芯位置序号</text>
              <text style="color:#4080ff">{{today_charge}} #</text>
            </view>
          </view>
          <view class="child-BMS-container" style="flex-direction: row;">
            <view>
              <text style="color:white">最低电压电芯位置序号</text>
              <text style="color:#4080ff">{{today_charge}} #</text>
            </view>
          </view>
        </view>
        <view class="flex-wrp" style="flex-direction: row;">
          <view class="child-BMS-container">
            <view>
              <text style="color:white">最高温度电芯位置序号</text>
              <text style="color:#4080ff">{{today_charge}} #</text>
            </view>
          </view>
          <view class="child-BMS-container" style="flex-direction: row;">
            <view>
              <text style="color:white">最低电压电芯位置序号</text>
              <text style="color:#4080ff">{{today_charge}} #</text>
            </view>
          </view>
        </view>
        <view class="flex-wrp" style="flex-direction: row;">
          <view class="child-BMS-container">
            <view>
              <text style="color:white">最高电压</text>
              <text style="color:#4080ff">{{today_charge}} MWh</text>
            </view>
          </view>
          <view class="child-BMS-container" style="flex-direction: row;">
            <view>
              <text style="color:white">最低电压</text>
              <text style="color:#4080ff">{{today_discharge}} MWh</text>
            </view>
          </view>
        </view>
        <view class="flex-wrp" style="flex-direction: row;">
          <view class="child-BMS-container">
            <view>
              <text style="color:white">最高温度</text>
              <text style="color:#4080ff">{{today_charge}} MWh</text>
            </view>
          </view>
          <view class="child-BMS-container" style="flex-direction: row;">
            <view>
              <text style="color:white">最低温度</text>
              <text style="color:#4080ff">{{today_discharge}} MWh</text>
            </view>
          </view>
        </view>
        <view class="flex-wrp" style="flex-direction: row;">
          <view class="child-BMS-container">
            <view>
              <text style="color:white">平均电压</text>
              <text style="color:#4080ff">{{today_charge}} V</text>
            </view>
          </view>
          <view class="child-BMS-container" style="flex-direction: row;">
            <view>
              <text style="color:white">平均温度</text>
              <text style="color:#4080ff">{{today_discharge}} °C</text>
            </view>
          </view>
        </view>
        <view class="flex-wrp" style="flex-direction: row;">
          <view class="child-BMS-block-container">
            <view class='{{lock === 0 ? "BMS-block-normal" : "BMS-block-abnormal"}}'>
              <text style="color:grey"> 告警总 </text>
            </view>
          </view>
          <view class="child-BMS-block-container" style="flex-direction: row;">
            <view class='{{lock === 0 ? "BMS-block-normal" : "BMS-block-abnormal"}}'>
              <text style="color:grey"> 故障总 </text>
            </view>
          </view>
        </view>
        <view class="flex-wrp" style="flex-direction: row;">
          <view class="child-BMS-block-container">
            <view class='{{lock === 0 ? "BMS-block-normal" : "BMS-block-abnormal"}}'>
              <text style="color:grey"> 禁止充电 </text>
            </view>
          </view>
          <view class="child-BMS-block-container" style="flex-direction: row;">
            <view class='{{lock === 0 ? "BMS-block-normal" : "BMS-block-abnormal"}}'>
              <text style="color:grey"> 禁止放电 </text>
            </view>
          </view>
        </view>
        
    <view class="swiper-tab-container">
      <view class='swiper-tab'>
        <view class='swiper-tab-list {{currentTableTab==0 ? "selected" : ""}}' data-current='0' bindtap='swichTable'>
          单次充放电量
        </view>
        <view class='swiper-tab-list {{currentTableTab==1 ? "selected" : ""}}' data-current='1'
        bindtap='swichTable'>
          累计充放电量
        </view>
      </view>
    </view>
    <swiper current='{{currentTableTab}}' class='swiper-box' duration='300' 
    style='height:300px' bindchange='slideTable'>
      <swiper-item>
        <ec-canvas id="mychart-bar-move-bar" canvas-id="mychart-pie" ec="{{ecSingleBar}}"></ec-canvas>
      </swiper-item>
      <swiper-item>
        <ec-canvas id="mychart-bar-move-bar" canvas-id="mychart-pie" ec="{{ecAcumBar}}"></ec-canvas>
      </swiper-item>
    </swiper>
  </view>
</view>